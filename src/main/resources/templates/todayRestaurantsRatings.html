<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${title}"></title>
    <script src="/webjars/jquery/jquery.min.js"></script>
    <script src="/webjars/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" th:src="@{/js/common.js}" defer></script>
    <link rel="stylesheet" type="text/css" href="/webjars/bootstrap/css/bootstrap.min.css">
    <link th:href="@{/css/styles.css}" rel="stylesheet"/>
</head>
<body>
<form th:action="@{/logout}" method="post" th:hidden="true" name="logoutForm">
    <input type="submit" value="Logout"/>
</form>
<!--restaurant cards-->
<div class="content">
    <a href="javascript: document.logoutForm.submit()">Logout:</a>
    <h7 th:text="${#authentication.name}"></h7>
    <h1 th:text="${title}"></h1>
    <div class="card-group">
        <div th:each="restaurant: ${restaurants}">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title" th:text="${restaurant.name}"></h5>
                    <div class="restaurantId" th:text="${restaurant.id}"></div>
                    <p class="card-text">
                    <div th:each="menuItem: ${restaurant.menuItems}">
                        <div th:text="${menuItem.name}+' '+${menuItem.price}/100+' $'"></div>
                    </div>
                    </p>
                    <div>
                    </div>
                    <div class="card-footer">
                        <small class="text-muted" th:text="'vote count: '+${restaurant.voteCount}"></small>
                        <br>
                        <th>
                            <button class="newvote">Vote</button>
                        </th>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!--popup-->
    <div class="popup-overlay">
        <div class="popup-content">
            <h2>Warning</h2>
            <p class="warnText">Text</p>
            <button class="revote">Change Vote</button>
            <button class="close">Close</button>
        </div>
    </div>
</div>
<meta name="_csrf" th:content="${_csrf.token}"/>
<meta name="_csrf_header" th:content="${_csrf.headerName}"/>
<meta name="_auth_flg" th:content="${#authorization.expression('isAuthenticated()')}"/>
</body>
</html>